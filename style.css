:root{
  --text:#e9f2fb;
  --accent:#60a5fa;
  --card-bg: rgba(255,255,255,0.1);
}

/* Reset & Body */
*{box-sizing:border-box;}
body{
  margin:0; min-height:100vh; display:flex; justify-content:center; align-items:center;
  overflow:hidden; color:var(--text); font-family:system-ui,Segoe UI,Roboto,Arial;
  background: linear-gradient(180deg,#031026,#071427); transition: background 1s ease;
  position: relative;
}

/* Animated background container */
.weather-anim{ position: fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; overflow:hidden;}

/* Rain animation */
.rain div{
  position:absolute; top:-10px; width:2px; height:10px; background:rgba(255,255,255,0.5);
  animation: fall linear infinite;
}
@keyframes fall{ 0%{transform:translateY(-20px);} 100%{transform:translateY(110vh);} }

/* Snow animation */
.snow div{ position:absolute; top:-10px; color:#fff; font-size:16px; animation: fallSnow linear infinite; }
@keyframes fallSnow{0%{transform: translateY(-20px);}100%{transform: translateY(110vh);}}

/* Clouds */
.cloud{ position:absolute; background: rgba(255,255,255,0.15); border-radius:50%; opacity:0.8; animation: cloudMove linear infinite; }
@keyframes cloudMove{ 0%{transform: translateX(-200px);} 100%{transform: translateX(120vw);}}

/* Card */
.container{ width:min(820px,96%); display:flex; justify-content:center; align-items:center; }
.card{
  position: relative; z-index:2; width:100%; max-width:600px;
  background: var(--card-bg); backdrop-filter: blur(15px);
  padding:30px; border-radius:20px; box-shadow:0 15px 40px rgba(0,0,0,0.6);
  transition: transform 0.3s, box-shadow 0.3s;
}
.card:hover{ transform: translateY(-5px); box-shadow:0 25px 50px rgba(0,0,0,0.7); }

.header h1{margin:0;font-size:1.6rem;}
.subtitle{margin:4px 0 12px; opacity:0.8;}

.search{display:flex; gap:10px;}
.search input{
  flex:1; padding:12px 16px; border-radius:50px; border:none;
  background: rgba(255,255,255,0.15); outline:none; color:#fff; font-size:1rem;
  transition: 0.3s; box-shadow: 0 0 0 rgba(0,0,0,0);
}
.search input:focus{ box-shadow:0 0 10px var(--accent); }
.search button{
  padding:12px 20px; border-radius:50px; border:none; background:var(--accent);
  font-weight:700; cursor:pointer; transition:0.3s; color:#042034;
}
.search button:hover{ background:#3b82f6; }

/* Status & Loader */
.status{margin-top:14px;}
.hidden{display:none;}
.loader{
  width:40px; height:40px; border:4px solid rgba(255,255,255,0.3);
  border-top-color: var(--accent); border-radius:50%;
  animation: spin 1s linear infinite; margin:auto;
}
@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
.error{ color:#ffb4b4; background:rgba(255,180,180,0.1); padding:10px; border-radius:10px; text-align:center; }

/* Result */
.result{
  margin-top:20px; padding:20px; border-radius:16px;
  background: rgba(255,255,255,0.08); backdrop-filter: blur(8px);
  transition: all 0.5s; opacity:0; transform: translateY(20px);
}
.result.show{opacity:1; transform: translateY(0);}

.row{display:flex;justify-content:space-between;align-items:center; gap:12px;}
.weather-block{display:flex;align-items:center; gap:12px;}
.weather-block img{
  width:80px; height:80px; padding:12px; border-radius:50%;
  background: linear-gradient(135deg, #60a5fa, #3b82f6); transition: 0.5s;
  animation: iconBounce 1s infinite alternate;
}
@keyframes iconBounce{ 0%{transform:translateY(0);} 100%{transform:translateY(-10px);} }

.temp{font-size:2.2rem;font-weight:800; transition: color 0.5s; }
.desc{opacity:0.9;font-size:1rem;}

/* Details */
.details{ display:grid; grid-template-columns:repeat(4,1fr); gap:12px; margin-top:16px;}
.detail{
  background: rgba(255,255,255,0.1); padding:12px; border-radius:12px;
  text-align:center; transition: transform 0.3s, box-shadow 0.3s;
}
.detail:hover{ transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.5);}
.detail small{display:block; opacity:0.8;}

.footer{margin-top:16px;text-align:center; opacity:0.7; font-size:0.85rem;}

/* Weather backgrounds */
body.clear{ background: linear-gradient(135deg, #fefcea, #f1da36);}
body.clouds{ background: linear-gradient(135deg, #d7d2cc, #304352);}
body.rain, body.drizzle, body.thunderstorm{ background: linear-gradient(135deg, #667db6, #0082c8);}
body.snow{ background: linear-gradient(135deg, #e0eafc, #cfdef3);}

/* Responsive */
@media(max-width:640px){
  .weather-block img{width:60px;height:60px;}
  .details{grid-template-columns:repeat(2,1fr);}
}
@media(max-width:480px){
  .row{flex-direction:column;align-items:flex-start; gap:8px;}
  .weather-block{justify-content:flex-start;}
  .details{grid-template-columns:1fr 1fr; gap:8px;}
}